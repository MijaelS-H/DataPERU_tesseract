<Schema name="dataperu" default_locale="es">
    <Cube name="mef_presupuesto_gastos">
        <Annotation name="source_name">MEF</Annotation>
        <Annotation name="source_description">Ministerio de Econom√≠a y Finanzas</Annotation>
        <Annotation name="dataset_name">Gasto Presupuestal</Annotation>
        <Annotation name="dataset_link">https://www.gob.pe/mef</Annotation>

        <Table name="mef_presupuesto_gastos" primary_key="ubigeo" />

        <DimensionUsage foreign_key="tipo_gobierno" source="Nivel Gobierno" name="Nivel Gobierno" />
        <DimensionUsage foreign_key="ubigeo" source="Ubigeo" name="Ubigeo" />

        <Dimension name="Departamento Meta" type="geo" foreign_key="departamento_meta">
            <Hierarchy name="Departamento Meta" primary_key="department_id">
                <Table name="dim_shared_ubigeo_department" />

                <Level name="Departamento Meta" key_column="department_id" name_column="department_name" key_type="text" />
            </Hierarchy>
        </Dimension>

        <Dimension name="Sector" foreign_key="sector">
            <Hierarchy name="Sector" primary_key="sector">
                <Table name="dim_mef_programa_sector" />
                
                <Level name="Sector" key_column="sector" name_column="sector_name" key_type="nontext" />
            </Hierarchy>
        </Dimension>

        <Dimension name="Pliego" foreign_key="pliego">
            <Hierarchy name="Pliego" primary_key="pliego">
                <Table name="dim_mef_pliego" />
                
                <Level name="Pliego" key_column="pliego" name_column="pliego_name" key_type="nontext" />
            </Hierarchy>
        </Dimension>

        <Dimension name="Rubro" foreign_key="rubro">
            <Hierarchy name="Rubro" primary_key="rubro">
                <Table name="dim_mef_rubro" />
                
                <Level name="Rubro" key_column="rubro" name_column="rubro_name" key_type="nontext" />
            </Hierarchy>
        </Dimension>

        <Dimension name="Ejecutora" foreign_key="ejecutora">
            <Hierarchy name="Ejecutora" primary_key="ejecutora">
                <Table name="dim_mef_programa_ejecutora" />
                
                <Level name="Ejecutora" key_column="ejecutora" name_column="ejecutora_name" key_type="nontext" />
            </Hierarchy>
        </Dimension>

        <Dimension name="Programa Ppto" foreign_key="programa_ppto">
            <Hierarchy name="Programa Ppto" primary_key="programa_ppto">
                <Table name="dim_mef_programa_ppto" />
                
                <Level name="Programa Ppto" key_column="programa_ppto" name_column="programa_ppto_name" key_type="nontext" />
            </Hierarchy>
        </Dimension>

        <Dimension name="Producto Proyecto" foreign_key="producto_proyecto">
            <Hierarchy name="Producto Proyecto" primary_key="producto_proyecto">
                <Table name="dim_mef_producto_proyecto" />
                
                <Level name="Producto Proyecto" key_column="producto_proyecto" name_column="producto_proyecto_name" key_type="nontext" />
            </Hierarchy>
        </Dimension>

        <Dimension name="Funcion" foreign_key="funcion">
            <Hierarchy name="Funcion" primary_key="funcion">
                <Table name="dim_mef_funcion" />
                
                <Level name="Funcion" key_column="funcion" name_column="funcion_name" key_type="nontext" />
            </Hierarchy>
        </Dimension>

        <Dimension name="Division Funcional" foreign_key="division_funcional">
            <Hierarchy name="Division Funcional" primary_key="division_funcional">
                <Table name="dim_mef_division_funcional" />
                
                <Level name="Division Funcional" key_column="division_funcional" name_column="division_funcional_name" key_type="nontext" />
            </Hierarchy>
        </Dimension>

        <Dimension name="Year" foreign_key="year">
            <Hierarchy name="Year">
                <Level name="Year" key_column="year" key_type="nontext" />
            </Hierarchy>
        </Dimension>

        <Measure name="PIA" column="pia" aggregator="sum" />
        <Measure name="PIM" column="pim" aggregator="sum" /> 
        <Measure name="Devengado" column="devengado" aggregator="sum" />
    </Cube>
</Schema>